<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to install NVIDIA drivers on Ubuntu | Gauthier Jolly</title><meta name=keywords content="Linux,Ubuntu,NVIDIA"><meta name=description content="Stop installing the NVIDIA drivers from NVIDIA repos on Ubuntu"><meta name=author content="Gauthier Jolly"><link rel=canonical href=https://gjolly.fr/blog/nivdia-drivers/><link crossorigin=anonymous href=https://gjolly.fr/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://gjolly.fr/img/terminal-sign.svg><link rel=icon type=image/png sizes=16x16 href=https://gjolly.fr/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gjolly.fr/favicon-32x32.png><link rel=apple-touch-icon href=https://gjolly.fr/apple-touch-icon.png><link rel=mask-icon href=https://gjolly.fr/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gjolly.fr/blog/nivdia-drivers/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y4G50Q2695"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y4G50Q2695")}</script><meta property="og:url" content="https://gjolly.fr/blog/nivdia-drivers/"><meta property="og:site_name" content="Gauthier Jolly"><meta property="og:title" content="How to install NVIDIA drivers on Ubuntu"><meta property="og:description" content="Stop installing the NVIDIA drivers from NVIDIA repos on Ubuntu"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-02-12T20:30:00+01:00"><meta property="article:modified_time" content="2025-02-12T20:30:00+01:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Ubuntu"><meta property="article:tag" content="NVIDIA"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to install NVIDIA drivers on Ubuntu"><meta name=twitter:description content="Stop installing the NVIDIA drivers from NVIDIA repos on Ubuntu"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://gjolly.fr/blog/"},{"@type":"ListItem","position":2,"name":"How to install NVIDIA drivers on Ubuntu","item":"https://gjolly.fr/blog/nivdia-drivers/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to install NVIDIA drivers on Ubuntu","name":"How to install NVIDIA drivers on Ubuntu","description":"Stop installing the NVIDIA drivers from NVIDIA repos on Ubuntu","keywords":["Linux","Ubuntu","NVIDIA"],"articleBody":"If you trust the automated way Then the simplest way to install the NVIDIA drivers on Ubuntu is to use the built-in tool:\n1 2 3 sudo apt update sudo apt install -y ubuntu-drivers-common sudo ubuntu-drivers install That’s it. Don’t install NVIDIA’s Debian repositories, no need to re-compile everytime a new kernel is released and it works with secure boot.\nIf you want to do it manually First, identify the kernel flavor you are using:\nIf you are running on a cloud, ${FLAVOR} should match the kernel you are running. For example, on AWS, users will probably be running linux-aws, the package to install should thus be ...-server-aws (same for Azure, GCP…). If you are unsure about which kernel you are running, simply run uname -r. If you are running the HWE kernel, ${FLAVOR} should be generic-hwe-24.04 (for Ubuntu 24.04). If you are unsure, check the output of apt list --installed | grep linux-image, if you see -hwe- in the name, you are probably running the HWE kernel. If you are in none of these cases, ${FLAVOR} is probably generic. Then, simply install these two packages: the first contains the drivers and the second contains utilities like nvidia-smi.\n1 2 3 apt install -y \\ linux-modules-nvidia-${DRIVER_VERSION}-server-${FLAVOR} \\ nvidia-utils-${DRIVER_VERSION}-server Note: server vs non-server packages: the server packages are for GPGPU (General Purpose GPU) usage, which is what you want for compute workloads. The non-server packages are for desktop usage (actually displaying graphics on a monitor).\nIf you don’t know which driver version to use, you can use 580 which is the latest version available in the archive as I write these lines.\nMaintaining the drivers To keep updating the NVIDIA drivers, regularly check if a new version of the drivers is available by running:\n1 2 sudo apt update apt list | grep 'linux-modules-nvidia-[0-9]\\+-server-${FLAVOR}/' To avoid ever downloading the NVIDIA DKMS drivers during system updates, make sure to always update your kernel, reboot and run apt autoremove to remove old kernels that could trigger the installation of DKMS drivers. Indeed, new drivers are only pre-built for the latest kernels available in the Ubuntu archive\nFAQ Wait but isn’t that some opensource drivers that are less performant? No. These will get you the closed-source, proprietary drivers.\nBut aren’t those old? No. They might not be the latest ones if the latest ones just got released but they regularly get updated.\nBut what is the difference with the NVIDIA drivers from NVIDIA then? They are pre-compiled for your Ubuntu Kernel. The drivers you get from NVIDIA are DKMS packages, which mean they will be re-compiled everytime your kernel is updated. Which can take a lot of time. Drivers shipped by Canonical are signed by Canonical, so secure boot works. So I don’t need to install the NVIDIA repo at all? You might have to in some cases (for example to install the NVIDIA container toolkit).\nReferences Ubuntu documentation about NVIDIA drivers Ubuntu Kernel cycles ","wordCount":"491","inLanguage":"en","datePublished":"2025-02-12T20:30:00+01:00","dateModified":"2025-02-12T20:30:00+01:00","author":{"@type":"Person","name":"Gauthier Jolly"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gjolly.fr/blog/nivdia-drivers/"},"publisher":{"@type":"Organization","name":"Gauthier Jolly","logo":{"@type":"ImageObject","url":"https://gjolly.fr/img/terminal-sign.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gjolly.fr/ accesskey=h title="Home (Alt + H)"><img src=https://gjolly.fr/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gjolly.fr/blog/ title=blog><span>blog</span></a></li><li><a href=https://gjolly.fr/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gjolly.fr/>Home</a>&nbsp;»&nbsp;<a href=https://gjolly.fr/blog/>Blogs</a></div><h1 class="post-title entry-hint-parent">How to install NVIDIA drivers on Ubuntu</h1><div class=post-description>Stop installing the NVIDIA drivers from NVIDIA repos on Ubuntu</div><div class=post-meta><span title='2025-02-12 20:30:00 +0100 +0100'>February 12, 2025</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Gauthier Jolly</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#wait-but-isnt-that-some-opensource-drivers-that-are-less-performant>Wait but isn&rsquo;t that some opensource drivers that are less performant?</a></li><li><a href=#but-arent-those-old>But aren&rsquo;t those old?</a></li><li><a href=#but-what-is-the-difference-with-the-nvidia-drivers-from-nvidia-then>But what is the difference with the NVIDIA drivers from NVIDIA then?</a></li><li><a href=#so-i-dont-need-to-install-the-nvidia-repo-at-all>So I don&rsquo;t need to install the NVIDIA repo at all?</a></li></ul></nav></div></details></div><div class=post-content><h1 id=if-you-trust-the-automated-way>If you trust the automated way<a hidden class=anchor aria-hidden=true href=#if-you-trust-the-automated-way>#</a></h1><p>Then the simplest way to install the NVIDIA drivers on Ubuntu is to use the built-in tool:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install -y ubuntu-drivers-common
</span></span><span class=line><span class=cl>sudo ubuntu-drivers install
</span></span></code></pre></td></tr></table></div></div><p>That&rsquo;s it. Don&rsquo;t install NVIDIA&rsquo;s Debian repositories, no need to re-compile everytime a new kernel is released and it works with secure boot.</p><h1 id=if-you-want-to-do-it-manually>If you want to do it manually<a hidden class=anchor aria-hidden=true href=#if-you-want-to-do-it-manually>#</a></h1><p>First, identify the kernel flavor you are using:</p><ul><li>If you are running on a cloud, <code>${FLAVOR}</code> should match the kernel you are running.
For example, on AWS, users will probably be running <code>linux-aws</code>, the package to install should
thus be <code>...-server-aws</code> (same for Azure, GCP&mldr;). If you are unsure about which kernel you are
running, simply run <code>uname -r</code>.</li><li>If you are running the HWE kernel, <code>${FLAVOR}</code> should be <code>generic-hwe-24.04</code> (for
Ubuntu 24.04). If you are unsure, check the output of <code>apt list --installed | grep linux-image</code>,
if you see <code>-hwe-</code> in the name, you are probably running the HWE kernel.</li><li>If you are in none of these cases, <code>${FLAVOR}</code> is probably <code>generic</code>.</li></ul><p>Then, simply install these two packages: the first contains the drivers and the second contains utilities like <code>nvidia-smi</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install -y <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    linux-modules-nvidia-<span class=si>${</span><span class=nv>DRIVER_VERSION</span><span class=si>}</span>-server-<span class=si>${</span><span class=nv>FLAVOR</span><span class=si>}</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    nvidia-utils-<span class=si>${</span><span class=nv>DRIVER_VERSION</span><span class=si>}</span>-server
</span></span></code></pre></td></tr></table></div></div><blockquote><p><strong>Note</strong>: <code>server</code> vs non-<code>server</code> packages: the server packages are for GPGPU (General Purpose GPU) usage, which is what you want for compute workloads. The non-server packages are for desktop usage (actually displaying graphics on a monitor).</p></blockquote><p>If you don&rsquo;t know which driver version to use, you can use <code>580</code> which is the latest version available in the archive as I write these lines.</p><h1 id=maintaining-the-drivers>Maintaining the drivers<a hidden class=anchor aria-hidden=true href=#maintaining-the-drivers>#</a></h1><p>To keep updating the NVIDIA drivers, regularly check if a new version of the drivers is available by running:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>apt list <span class=p>|</span> grep <span class=s1>&#39;linux-modules-nvidia-[0-9]\+-server-${FLAVOR}/&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>To avoid ever downloading the NVIDIA DKMS drivers during system updates, make sure to always update your kernel, reboot and run <code>apt autoremove</code> to remove old kernels that could trigger the installation of DKMS drivers. Indeed, new drivers are only pre-built for the latest kernels available in the Ubuntu archive</p><h1 id=faq>FAQ<a hidden class=anchor aria-hidden=true href=#faq>#</a></h1><h2 id=wait-but-isnt-that-some-opensource-drivers-that-are-less-performant>Wait but isn&rsquo;t that some opensource drivers that are less performant?<a hidden class=anchor aria-hidden=true href=#wait-but-isnt-that-some-opensource-drivers-that-are-less-performant>#</a></h2><p>No. These will get you the closed-source, proprietary drivers.</p><h2 id=but-arent-those-old>But aren&rsquo;t those old?<a hidden class=anchor aria-hidden=true href=#but-arent-those-old>#</a></h2><p>No. They might not be the latest ones if the latest ones just got released but they regularly get updated.</p><h2 id=but-what-is-the-difference-with-the-nvidia-drivers-from-nvidia-then>But what is the difference with the NVIDIA drivers from NVIDIA then?<a hidden class=anchor aria-hidden=true href=#but-what-is-the-difference-with-the-nvidia-drivers-from-nvidia-then>#</a></h2><ol><li>They are pre-compiled for your Ubuntu Kernel. The drivers you get from NVIDIA are DKMS packages, which mean they will be re-compiled everytime your kernel is updated. Which can take a lot of time.</li><li>Drivers shipped by Canonical are signed by Canonical, so secure boot works.</li></ol><h2 id=so-i-dont-need-to-install-the-nvidia-repo-at-all>So I don&rsquo;t need to install the NVIDIA repo at all?<a hidden class=anchor aria-hidden=true href=#so-i-dont-need-to-install-the-nvidia-repo-at-all>#</a></h2><p>You might have to in some cases (for example to install the NVIDIA container toolkit).</p><h1 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h1><ul><li><a href=https://documentation.ubuntu.com/server/how-to/graphics/install-nvidia-drivers/>Ubuntu documentation about NVIDIA drivers</a></li><li><a href="https://ubuntu.com/about/release-cycle?product=ubuntu-kernel&amp;release=ubuntu+kernel&amp;version=all">Ubuntu Kernel cycles</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://gjolly.fr/tags/linux/>Linux</a></li><li><a href=https://gjolly.fr/tags/ubuntu/>Ubuntu</a></li><li><a href=https://gjolly.fr/tags/nvidia/>NVIDIA</a></li></ul><nav class=paginav><a class=prev href=https://gjolly.fr/blog/virtual-networking/><span class=title>« Prev</span><br><span>Practical Guide To Virtual Networking on Linux</span>
</a><a class=next href=https://gjolly.fr/blog/ubuntu-mkosi/><span class=title>Next »</span><br><span>Build an Ubuntu Server live image with mkosi</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://gjolly.fr/>Gauthier Jolly</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>