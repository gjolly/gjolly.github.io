<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>A basic CLI tool to build Ubuntu images | Gauthier Jolly</title><meta name=keywords content="Linux,Ubuntu"><meta name=description content="Build Ubuntu images from scratch with a CLI tool"><meta name=author content="Gauthier Jolly"><link rel=canonical href=https://gjolly.fr/blog/genesis/><link crossorigin=anonymous href=https://gjolly.fr/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://gjolly.fr/img/terminal-sign.svg><link rel=icon type=image/png sizes=16x16 href=https://gjolly.fr/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gjolly.fr/favicon-32x32.png><link rel=apple-touch-icon href=https://gjolly.fr/apple-touch-icon.png><link rel=mask-icon href=https://gjolly.fr/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gjolly.fr/blog/genesis/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y4G50Q2695"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y4G50Q2695")}</script><meta property="og:url" content="https://gjolly.fr/blog/genesis/"><meta property="og:site_name" content="Gauthier Jolly"><meta property="og:title" content="A basic CLI tool to build Ubuntu images"><meta property="og:description" content="Build Ubuntu images from scratch with a CLI tool"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-06-09T09:10:00+00:00"><meta property="article:modified_time" content="2023-06-09T09:10:00+00:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Ubuntu"><meta name=twitter:card content="summary"><meta name=twitter:title content="A basic CLI tool to build Ubuntu images"><meta name=twitter:description content="Build Ubuntu images from scratch with a CLI tool"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://gjolly.fr/blog/"},{"@type":"ListItem","position":2,"name":"A basic CLI tool to build Ubuntu images","item":"https://gjolly.fr/blog/genesis/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"A basic CLI tool to build Ubuntu images","name":"A basic CLI tool to build Ubuntu images","description":"Build Ubuntu images from scratch with a CLI tool","keywords":["Linux","Ubuntu"],"articleBody":"Genesis a CLI project written in Python. It can build Ubuntu images from scratch.\nThe tool is named genesis (because you start from nothing). And is available as a python package: https://github.com/gjolly/genesis (it’s also packaged as a deb in a PPA.\nA basic example We are going to create a very minimal image of Ubuntu 23.04 (Lunar Lobster) and try to boot from it using qemu.\nCreating a base image First you want to start by bootstrapping a basic filesystem:\nsudo genesis debootstrap \\ --series lunar \\ --mirror 'http://archive.ubuntu.com/ubuntu' \\ --output chroot-lunar Then, with this filesystem, you can create a disk-image:\nsudo genesis create-disk \\ --rootfs-dir ./chroot-lunar \\ --disk-image lunar.img Once this is done, you need to update your system (debootstrap only uses the release pocket). While doing this stage, you can install some extra packages. Here we are going to build a very minimalist image of Ubuntu using only\nsudo genesis update-system \\ --disk-image lunar.img \\ --mirror 'http://archive.ubuntu.com/ubuntu' \\ --series lunar \\ --extra-package openssh-server --extra-package ca-certificates --extra-package linux-kvm We still need to install a boot loader and this operation requires its own command:\nsudo genesis install-grub --disk-image lunar.img Final customizations The image is almost ready but we can (and here we need) customize it by adding extra files directly on the filesystem. This is done with the copy-files command.\nConfiguring networking Because we did not install cloud-init in our image, we need to pre-configure it with everything it needs. Here we assume that this image will be run with qemu and a virtual network card attached. We configure netplan accordingly:\nsudo genesis copy-files \\ --disk-image lunar.img \\ --file $PWD/netplan.yaml:/etc/netplan/image-default.yaml with netplan.yaml being the following:\nnetwork: version: 2 ethernets: eth0: dhcp4: true match: driver: virtio_net set-name: eth0 Configuring the sources We want to define the Debian packages source. For now there is just a default source file pointing to http://archive.ubuntu.com in the image. Maybe, since I live in France, I want my image to be configured with a local mirror:\ndeb https://fr.archive.ubuntu.com/ubuntu lunar main universe restricted deb https://fr.archive.ubuntu.com/ubuntu lunar-updates main universe restricted deb https://fr.archive.ubuntu.com/ubuntu lunar-security main universe restricted This is what my sources.list would look like and I can now install it on the live image:\nsudo genesis copy-files \\ --disk-image lunar.img \\ --file $PWD/sources.list:/etc/apt/sources.list User config Finally, I need to configure a user. Here I create a user with create-user and I copy my public ssh key in .ssh/authorized_keys directory for this user.\nsudo genesis create-user \\ --disk-image lunar.img \\ --username ubuntu --sudo sudo genesis copy-files \\ --disk-image lunar.img \\ --file $HOME/.ssh/id_rsa.pub:/home/ubuntu/.ssh/authorized_keys --mod 600 --owner ubuntu Note that if .ssh does not exist under /home/ubuntu, it will be automatically created by copy-files.\nRunning the image Now let’s try to run this image that we have just created. For that we need a bit of qemu black magic:\nqemu-system-x86_64 \\ -cpu host -machine type=q35,accel=kvm -m 2048 \\ -nographic -snapshot \\ -netdev id=net00,type=user,hostfwd=tcp::2222-:22 \\ -device virtio-net-pci,netdev=net00 \\ -drive if=virtio,format=raw,file=./lunar.img \\ -drive if=pflash,format=raw,file=/usr/share/OVMF/OVMF_CODE.fd,readonly=on \\ -drive if=pflash,format=raw,file=/usr/share/OVMF/tmp/OVMF_VARS.fd,readonly=on If you don’t understand what is going on, this is not very important. But, assuming you have all the right dependencies installed, this should start a virtual machine and boot on the disk we’ve just created.\nThen you should be able to ssh (by opening another terminal):\nssh ubuntu@0.0.0.0 -p 2222 And we can check the boot time:\nubuntu@ubuntu:~$ sudo systemd-analyze critical-chain The time when unit became active or started is printed after the \"@\" character. The time the unit took to start is printed after the \"+\" character. graphical.target @740ms └─multi-user.target @739ms └─systemd-logind.service @681ms +43ms └─basic.target @663ms └─sockets.target @663ms └─ssh.socket @662ms └─sysinit.target @636ms └─systemd-resolved.service @548ms +86ms └─systemd-tmpfiles-setup.service @536ms +9ms └─local-fs.target @528ms └─boot-efi.mount @506ms +21ms └─dev-vda15.device @476ms Because the image is so minimal, the system boots in less than a second.\nIs it usable for building production-ready images of Ubuntu? No\n","wordCount":"635","inLanguage":"en","datePublished":"2023-06-09T09:10:00Z","dateModified":"2023-06-09T09:10:00Z","author":{"@type":"Person","name":"Gauthier Jolly"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gjolly.fr/blog/genesis/"},"publisher":{"@type":"Organization","name":"Gauthier Jolly","logo":{"@type":"ImageObject","url":"https://gjolly.fr/img/terminal-sign.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gjolly.fr/ accesskey=h title="Home (Alt + H)"><img src=https://gjolly.fr/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gjolly.fr/blog/ title=blog><span>blog</span></a></li><li><a href=https://gjolly.fr/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gjolly.fr/>Home</a>&nbsp;»&nbsp;<a href=https://gjolly.fr/blog/>Blogs</a></div><h1 class="post-title entry-hint-parent">A basic CLI tool to build Ubuntu images</h1><div class=post-description>Build Ubuntu images from scratch with a CLI tool</div><div class=post-meta><span title='2023-06-09 09:10:00 +0000 UTC'>June 9, 2023</span>&nbsp;·&nbsp;635 words&nbsp;·&nbsp;Gauthier Jolly</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#a-basic-example>A basic example</a><ul><li><a href=#creating-a-base-image>Creating a base image</a></li><li><a href=#final-customizations>Final customizations</a></li><li><a href=#configuring-the-sources>Configuring the sources</a></li><li><a href=#user-config>User config</a></li><li><a href=#running-the-image>Running the image</a></li></ul></li><li><a href=#is-it-usable-for-building-production-ready-images-of-ubuntu>Is it usable for building production-ready images of Ubuntu?</a></li></ul></nav></div></details></div><div class=post-content><p>Genesis a CLI project written in Python. It can build Ubuntu images from scratch.</p><p>The tool is named <code>genesis</code> (because you start from nothing). And is available as a python package: <a href=https://github.com/gjolly/genesis>https://github.com/gjolly/genesis</a> (it&rsquo;s also packaged as a deb in <a href=https://launchpad.net/~gjolly/+archive/ubuntu/genesis>a PPA</a>.</p><h2 id=a-basic-example>A basic example<a hidden class=anchor aria-hidden=true href=#a-basic-example>#</a></h2><p>We are going to create a very minimal image of Ubuntu 23.04 (Lunar Lobster) and try to boot from it using <code>qemu</code>.</p><h3 id=creating-a-base-image>Creating a base image<a hidden class=anchor aria-hidden=true href=#creating-a-base-image>#</a></h3><p>First you want to start by bootstrapping a basic filesystem:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo genesis debootstrap <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --series lunar <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --mirror <span class=s1>&#39;http://archive.ubuntu.com/ubuntu&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --output chroot-lunar
</span></span></code></pre></div><p>Then, with this filesystem, you can create a disk-image:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo genesis create-disk <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --rootfs-dir ./chroot-lunar <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --disk-image lunar.img
</span></span></code></pre></div><p>Once this is done, you need to update your system (<code>debootstrap</code> only uses the release pocket). While doing this stage, you can install some extra packages. Here we are going to build a very minimalist image of Ubuntu using only</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo genesis update-system <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --disk-image lunar.img <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --mirror <span class=s1>&#39;http://archive.ubuntu.com/ubuntu&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --series lunar <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --extra-package openssh-server --extra-package ca-certificates --extra-package linux-kvm
</span></span></code></pre></div><p>We still need to install a boot loader and this operation requires its own command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo genesis install-grub --disk-image lunar.img
</span></span></code></pre></div><h3 id=final-customizations>Final customizations<a hidden class=anchor aria-hidden=true href=#final-customizations>#</a></h3><p>The image is almost ready but we can (and here we need) customize it by adding extra files directly on the filesystem. This is done with the <code>copy-files</code> command.</p><h4 id=configuring-networking>Configuring networking<a hidden class=anchor aria-hidden=true href=#configuring-networking>#</a></h4><p>Because we did not install cloud-init in our image, we need to pre-configure it with everything it needs. Here we assume that this image will be run with <code>qemu</code> and a virtual network card attached. We configure netplan accordingly:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo genesis copy-files <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --disk-image lunar.img <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --file <span class=nv>$PWD</span>/netplan.yaml:/etc/netplan/image-default.yaml
</span></span></code></pre></div><p>with <code>netplan.yaml</code> being the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>network</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ethernets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>eth0</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>dhcp4</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>match</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>driver</span><span class=p>:</span><span class=w> </span><span class=l>virtio_net</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>set-name</span><span class=p>:</span><span class=w> </span><span class=l>eth0</span><span class=w>
</span></span></span></code></pre></div><h3 id=configuring-the-sources>Configuring the sources<a hidden class=anchor aria-hidden=true href=#configuring-the-sources>#</a></h3><p>We want to define the Debian packages source. For now there is just a default source file pointing to <code>http://archive.ubuntu.com</code> in the image. Maybe, since I live in France, I want my image to be configured with a local mirror:</p><pre tabindex=0><code>deb https://fr.archive.ubuntu.com/ubuntu lunar main universe restricted
deb https://fr.archive.ubuntu.com/ubuntu lunar-updates main universe restricted
deb https://fr.archive.ubuntu.com/ubuntu lunar-security main universe restricted
</code></pre><p>This is what my <code>sources.list</code> would look like and I can now install it on the live image:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo genesis copy-files <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --disk-image lunar.img <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --file <span class=nv>$PWD</span>/sources.list:/etc/apt/sources.list
</span></span></code></pre></div><h3 id=user-config>User config<a hidden class=anchor aria-hidden=true href=#user-config>#</a></h3><p>Finally, I need to configure a user. Here I create a user with <code>create-user</code> and I copy my public ssh key in <code>.ssh/authorized_keys</code> directory for this user.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo genesis create-user <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --disk-image lunar.img <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --username ubuntu --sudo
</span></span><span class=line><span class=cl>sudo genesis copy-files <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --disk-image lunar.img <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --file <span class=nv>$HOME</span>/.ssh/id_rsa.pub:/home/ubuntu/.ssh/authorized_keys --mod <span class=m>600</span> --owner ubuntu
</span></span></code></pre></div><p>Note that if <code>.ssh</code> does not exist under <code>/home/ubuntu</code>, it will be automatically created by <code>copy-files</code>.</p><h3 id=running-the-image>Running the image<a hidden class=anchor aria-hidden=true href=#running-the-image>#</a></h3><p>Now let&rsquo;s try to run this image that we have just created. For that we need a bit of <code>qemu</code> black magic:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>qemu-system-x86_64 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -cpu host -machine <span class=nv>type</span><span class=o>=</span>q35,accel<span class=o>=</span>kvm -m <span class=m>2048</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -nographic -snapshot <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -netdev <span class=nv>id</span><span class=o>=</span>net00,type<span class=o>=</span>user,hostfwd<span class=o>=</span>tcp::2222-:22 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -device virtio-net-pci,netdev<span class=o>=</span>net00 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -drive <span class=k>if</span><span class=o>=</span>virtio,format<span class=o>=</span>raw,file<span class=o>=</span>./lunar.img <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -drive <span class=k>if</span><span class=o>=</span>pflash,format<span class=o>=</span>raw,file<span class=o>=</span>/usr/share/OVMF/OVMF_CODE.fd,readonly<span class=o>=</span>on <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -drive <span class=k>if</span><span class=o>=</span>pflash,format<span class=o>=</span>raw,file<span class=o>=</span>/usr/share/OVMF/tmp/OVMF_VARS.fd,readonly<span class=o>=</span>on
</span></span></code></pre></div><p>If you don&rsquo;t understand what is going on, this is not very important. But, assuming you have all the right dependencies installed, this should start a virtual machine and boot on the disk we&rsquo;ve just created.</p><p>Then you should be able to ssh (by opening another terminal):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh ubuntu@0.0.0.0 -p <span class=m>2222</span>
</span></span></code></pre></div><p>And we can check the boot time:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ubuntu@ubuntu:~$ sudo systemd-analyze critical-chain
</span></span><span class=line><span class=cl>The <span class=nb>time</span> when unit became active or started is printed after the <span class=s2>&#34;@&#34;</span> character.
</span></span><span class=line><span class=cl>The <span class=nb>time</span> the unit took to start is printed after the <span class=s2>&#34;+&#34;</span> character.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>graphical.target @740ms
</span></span><span class=line><span class=cl>└─multi-user.target @739ms
</span></span><span class=line><span class=cl>  └─systemd-logind.service @681ms +43ms
</span></span><span class=line><span class=cl>    └─basic.target @663ms
</span></span><span class=line><span class=cl>      └─sockets.target @663ms
</span></span><span class=line><span class=cl>        └─ssh.socket @662ms
</span></span><span class=line><span class=cl>          └─sysinit.target @636ms
</span></span><span class=line><span class=cl>            └─systemd-resolved.service @548ms +86ms
</span></span><span class=line><span class=cl>              └─systemd-tmpfiles-setup.service @536ms +9ms
</span></span><span class=line><span class=cl>                └─local-fs.target @528ms
</span></span><span class=line><span class=cl>                  └─boot-efi.mount @506ms +21ms
</span></span><span class=line><span class=cl>                    └─dev-vda15.device @476ms
</span></span></code></pre></div><p>Because the image is so minimal, the system boots in less than a second.</p><h2 id=is-it-usable-for-building-production-ready-images-of-ubuntu>Is it usable for building production-ready images of Ubuntu?<a hidden class=anchor aria-hidden=true href=#is-it-usable-for-building-production-ready-images-of-ubuntu>#</a></h2><p><strong>No</strong></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://gjolly.fr/tags/linux/>Linux</a></li><li><a href=https://gjolly.fr/tags/ubuntu/>Ubuntu</a></li></ul><nav class=paginav><a class=prev href=https://gjolly.fr/blog/user_tmp/><span class=title>« Prev</span><br><span>User temporary directory</span>
</a><a class=next href=https://gjolly.fr/blog/unified_kernel_sb/><span class=title>Next »</span><br><span>FDE, Secureboot and unified kernel image</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://gjolly.fr/>Gauthier Jolly</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>